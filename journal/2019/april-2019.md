# 03-04-2019

## What happened?

* We finally reach consensus on to use default value or optional to indicate
* Trying to optimize migration 

## How you feel?

* Feel bad that it took so long to reach consensus on something trivial, and failed to do it myself
* Testing migration is tricky

## What have you learn? 

* Avoid to be the middlemen in argument, because you cannot always fully understand both parties and their points
* Every OS has a native thread limit, which can be bottleneck when your program is thread heavy
* Decoupling read and write on migration is a good idea
* `fs2.concurrent.Queue#dequeue` does not terminate as enqueue is a runtime property, we need to add signalling to stop it

# 04-04-2019

## What happened?

N/A

## How you feel?

Good

## What have you learn?

* To ssh into EC2, remember to use ec2 as the ssh user
* DynamoDB Scan-Modify-Write loop is CPU bounded  

# 05-04-2019

## What happened?

Joined architectural group for the 1st time

## How you feel?

N/A

## What have you learn?

* Placing a migration layer in code for X period and perform migration for the rest of data can reduce the load of write needed
* Scan in Dynamo is by partition, so Scan-Modify-Write pattern is susceptible to hot partition issue when using provisioned capacity  

# 08-04-2019

## What happened?

* Performed migration on a table
* Joined catch up with MediaOps 

## How you feel?

* I didn't prepare for the catch up, -1

## What have you learn?

* Backoff + retry goes a long way for rate-limiting api, should always try this simple solution before opting for something more complicated
* Always write spec down as a first thing
* Backward compat layer should cover read and write operations  
* When asking for schedule, use a nicer way, for example, `cool, sounds like we all agree, let's try to schedule it`

# 09-04-2019

## What happened?

N/A

## How you feel?

Good

## What have you learn?

* How to find dns record in AWS Console, the search UI only work when one provides more than 40 chars
* Atomicity vs Isolation, Atomicity means no partial state, Isolation means transactions can assume no other transaction is ongoing

# 10-04-2019

## What happened?

Finished migration

## How you feel?

Good

## What have you learn?

* AWS Glue might make migration easier
* Inter-region network can be really slow
* Read committed means no dirty read and no dirty write
    * Dirty Read: Read uncommitted value from another transaction
    * Dirty Write: Write to a value that is involved in another transaction that has already started 
* To allow ssh to a server, copy your public key to .ssh/authenticated_keys
    
# 11-04-2019

## What happened?

N/A

## How you feel?

Good

## What have you learn?

* Stream is extremely powerful, it can model side effect overtime which is almost turing-machine like
* Queue is a way to share mutable state, but it's not very nice in that you cannot tell what's happening by looking at the function signature

# 12-04-2019 to 14-04-2019

## What happened?

N/A

## How you feel?

N/A

## What have you learn?

* I need to change working style by having focus and break cycle, this is the most productive way, but it requires low distraction
* Modelling knowledge graph in OrientDB looks promising, need more effort to design Classes for vertices and edges
* Snapshot isolation vs Read Committed:
    - Read Committed is susceptible to read skew, which a Tx can read a committed value for Object A before an interleaving Tx, and another value of Object B AFTER the same interleaving Tx, it is also known as unrepeatable read because you cannot reproduce it, as the next read will pick up the updated values for all objects the Tx encompass
    - To solve this problem, we use Snapshot Isolation, the idea is to version values of an object by Tx id, then we can make sure each transaction have a consistent view of database, this is typically implemented by MVVC
    
# 15-04-2019

## What happened?

N/A

## How you feel?

Tiring

## What have you learn?

* sbt can be slow if hostname is not set, to set it, use `scutil --set HostName $(scutil --get LocalHostName)`
* standardizing code across multiple services is a merit, but it's not free
* Sometimes string manipulation can go a long way, eg. to minimize size of update expression generated by scanamo

# 16-04-2019

## What happened?

Discovered our schema is invalid semantically due to how we handle default, its a combination of the following:

* optional default is implemented as auto-filled data
* allow required field in optional parent

this 2 points form a conflict in the following schema

```
parent:
    Alice:
        type: string
        default: "Little Boy"
    Bob:
        type: object
        required: true
```

We will auto-fill Alice, but not Bob, and given Bob is `required`, we violate the api contract

## How you feel?

A bit bored

## What have you learn?

* Do not push negativity down because while it might release your emotion, it can be really harmful to the entire team, work can sucks just like life can sucks in general, and it's better to face it with smile and laughter
* swagger has downsides that it is too flexible and sometimes allow schema that does not make sense
    - Tight coupling between `lib code <-> yaml <-> app code`
    

# 17-04-2019

## What happened?

Had a good chat with Harrison, fix grafana dashboard

## How you feel?

Painful to fix dashboard

## What have you learn?

* When debugging a concurrent stateful program, we can try to use atomic-counter to determine ordering for debugging purpose
* `IO[X]` is not shareable, when you reuse it, it get reevaluated on each call site, it is a thunk!!! To re-use the X, ie. it's a mutable shared state, the sharing needs to happen in IO context
* `?!` is negative lookahead in regex
* When working on high-dimensional task, it's useful to create a table enumerate the possible combination
* Whenever you have to switch screen back and forth, use a second monitor is more efficient  

# 19-04-2019 - 21-04-2019

## What happened?

* Make test passed in raft-scala
* Start organizing work in trello 

## How you feel?

Cool

## What have you learn?

* When performing pubsub, the order of publish and subscribe matters, if you subscribe AFTER publishing, you might lose data unless you are working on a queue
* When building concurrent system, the ability of troubleshoot should be prioritized as that will be where you spend most of the time

# 22-04-2019

## What happened?
N/A

## How you feel?
Zen

## What have you learn?
* Turning on http2 might gives more load because browser throttles http1.1

# 23-04-2019

## What happened?
N/A

## How you feel?
N/A

## What have you learn?
* When facing ambiguity, ask for clarity, fast
* When facing multiple conflicting directions from multiple parties, express your opinion and escalate, defer to person in charge
* A big pain point of meeting is to limit, effective meeting means controlling these 2 factors nicely, normally consciously 
    a) Topic
    b) Level of details 

# 24-04-2019

## What happened?
Had a meeting with many people around Profile Languages

## How you feel?
Still a bit uncomfortable

## What have you learn?
* UN.M49 is a standard that covers regions on earth, ranging from continents to countries
* There are 249 widely regconized countries
* SwayDB is quite easy to use  

# 25-04-2019

## What happened?

N/A

## How you feel?

N/A

## What have you learn?
* I should try to defend my team member
* Coupling spec with code has its limit when spec cannot express complex 
logic where code has to, it can also couple the release cycle of 
multiple feature if we couple spec of multiple feature   
* We can mimic boolean operator (and/or) in cloudwatch metric math using ceil/max/floor etc, the trick is to scale a value down to range of `0 to 1` 

# 26/27/28 - 04 -2019
## What happened?

Nothing much

## How you feel?
N/A

## What have you learn?
* Be extra careful when exposing data, once a piece of data is out, it is out and it is not always easy to change it, be sure to consider how to change things if you have to
* Coupling api can be costly, one should decouple when you realize we are over coupling

# 29-04-2019
## What happened?
N/A

## How you feel?
N/A

## What have you learn?

* Multiple single point of failure is worse than single point of failure
  

